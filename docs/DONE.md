# Funcionalidades Implementadas (DONE)

Este documento registra las características y tareas que ya se han completado en el proyecto Pizzería Serranillo.

## Funcionalidades Implementadas
- **Menú Interactivo de Productos:**
    - [x] Visualización de productos por categorías (Pizzas, Acompañamientos, Bebidas, Postres).
    - [x] Tarjetas de producto con nombre, descripción, precio e imagen.
    - [x] Datos de productos cargados desde un archivo estático (`src/data/products.ts`) para importación inicial.
    - [x] Productos ahora cargados desde Firestore en la página principal.
- **Carrito de Compras:**
    - [x] Añadir productos al carrito desde las tarjetas de producto.
    - [x] Sidebar del carrito para ver los artículos añadidos.
    - [x] Actualizar cantidad de artículos en el carrito.
    - [x] Eliminar artículos del carrito.
    - [x] Limpiar todo el carrito.
    - [x] Cálculo en tiempo real del subtotal y número total de artículos.
    - [x] Persistencia del carrito entre sesiones utilizando Local Storage.
    - [x] Botón para abrir/cerrar el carrito en la cabecera.
- **Proceso de Checkout (Integrado con Stripe):**
    - [x] Formulario de checkout para información de contacto y entrega.
    - [x] Validación de campos del formulario usando React Hook Form y Zod.
    - [x] Resumen del pedido en la página de checkout.
    - [x] Creación de sesión de pago con Stripe.
    - [x] Redirección a la pasarela de pago de Stripe.
    - [x] Páginas de éxito y cancelación de pago.
    - [x] Webhook de Stripe para procesar pedidos completados y guardarlos en Firestore.
    - [x] Limpieza del carrito tras un pago exitoso.
    - [x] Mensaje de "Carrito vacío" en la página de checkout si no hay artículos.
- **Diseño y UI/UX:**
    - [x] Diseño responsivo adaptado a dispositivos móviles, tabletas y escritorio.
    - [x] Interfaz de usuario moderna y atractiva utilizando ShadCN UI components.
    - [x] Estilizado con Tailwind CSS.
    - [x] Uso de iconos de Lucide React.
    - [x] Notificaciones (toasts) para acciones del usuario (ej. añadir al carrito, pedido realizado).
    - [x] Paleta de colores y tipografía consistentes (definidas en `globals.css` y `tailwind.config.ts`).
    - [x] Componente de cabecera (Header) con logo y acceso al carrito.
    - [x] Componente de pie de página (Footer) básico.
    - [x] Reordenamiento de pestañas en perfil de cliente y panel de admin para mejor UX.
- **Estructura del Proyecto y Configuración:**
    - [x] Proyecto Next.js configurado con App Router.
    - [x] Uso de TypeScript.
    - [x] Estructura de carpetas organizada para componentes, contexto, datos, hooks, etc.
    - [x] Configuración inicial de Genkit (preparado para funcionalidades de IA).
    - [x] Configuración de ESLint y Prettier (asumido por Next.js y buenas prácticas).
    - [x] `next.config.ts` configurado para imágenes (incluyendo `firebasestorage.googleapis.com`) y para ignorar errores de build de TS/ESLint temporalmente.
- **Autenticación de Usuarios (Firebase Auth):**
    - [x] Integración con Firebase Authentication (Email/Password, Google).
    - [x] Configuración de inicialización de Firebase (`src/lib/firebase.ts`).
    - [x] `AuthContext` para gestionar estado de usuario y perfil de Firestore.
    - [x] Páginas de Login, Signup y Forgot Password.
    - [x] Creación/Actualización de perfiles de usuario en Firestore (colección `users`).
    - [x] Manejo de errores y notificaciones (toasts) para operaciones de autenticación.
    - [x] Protección de rutas (`/profile`, `/checkout`, `/admin`) y redirecciones.
    - [x] Funcionalidad de "Olvidé mi contraseña".
    - [x] Funcionalidad de "Cambiar Contraseña" desde el perfil.
    - [x] Envío de correo de verificación al registrarse y opción de reenvío.
    - [x] Visualización de estado de verificación en perfil.
- **Perfil de Usuario:**
    - [x] Página de perfil (`/profile`) para ver información del usuario y de Firebase Auth.
    - [x] Visualización del historial de pedidos del usuario desde Firestore (con actualizaciones en tiempo real y toasts de notificación de cambio de estado).
    - [x] Edición de nombre, dirección de envío predeterminada.
    - [x] Estados de pedido con colores distintivos.
    - [x] Ocultar UID de la vista del cliente.
- **Panel de Administración (`/admin`):**
    - [x] Ruta `/admin` protegida por rol 'admin' (definido en perfil de usuario en Firestore).
    - [x] Enlace condicional al panel de admin en el Header.
    - [x] **Gestión de Productos (CRUD completo):**
        - [x] Listar productos desde Firestore.
        - [x] Importar menú inicial a Firestore.
        - [x] Añadir nuevos productos con subida de imagen a Firebase Storage.
        - [x] Editar productos existentes con subida/actualización de imagen a Firebase Storage.
        - [x] Eliminar productos (con eliminación de imagen asociada de Firebase Storage).
    - [x] Visualización y gestión de pedidos recibidos (cambio de estado).
    - [x] Visualización y gestión de roles de usuarios.
- **Documentación Inicial:**
    - [x] `README.md` básico explicando el proyecto. (Actualizado a versión más detallada)
    - [x] Creación de archivos de planificación del proyecto: `docs/TODO.md`, `docs/DONE.md`, `docs/ARCHITECTURE.md`, `docs/BUGS.md`.
- **PWA (Progressive Web App):**
    - [x] Añadido `next-pwa` y configuración básica.
    - [x] Creado `manifest.json`.
    - [x] Enlaces y metadatos en `layout.tsx`. (Iconos deben ser creados manualmente por el usuario).

Esta lista se actualizará a medida que se completen más tareas del archivo `TODO.md`.
